<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Power4 Web</title>
<style>
body { font-family: Arial; background: #f5f5f5; text-align:center; padding:20px; }
table { margin:auto; border-collapse:collapse; }
td { width:60px; height:60px; border-radius:8px; background:#ddd; }
.red { background:red; }
.blue { background:blue; }
button { margin:4px; padding:8px 16px; border:none; border-radius:6px; cursor:pointer; }
input, select { padding:6px; margin:4px; }
form { margin:10px; }
</style>
</head>
<body>

{{if .Rows}}
  <h2>{{index .Players 1}} (rouge) vs {{index .Players 2}} (bleu)</h2>
  <p><b>Difficulté:</b> {{.Difficulty}} — <b>Tour:</b> {{.TurnCount}}</p>
  <p><b>Gravité:</b> {{if .Gravity}}Normale{{else}}Inversée{{end}}</p>
  <p style="color:#333">{{.Message}}</p>

  <table>
    {{range $r, $row := .Board}}
      <tr>
      {{range $c, $v := $row}}
        <td class="{{if eq $v 1}}red{{else if eq $v 2}}blue{{end}}"></td>
      {{end}}
      </tr>
    {{end}}
  </table>

  {{if not .GameOver}}
    <form action="/play" method="post">
      {{range $i := (slice 0 .Columns)}}
        <button name="column" value="{{$i}}">↓</button>
      {{end}}
    </form>
  {{else}}
    <p><b>{{.Message}}</b></p>
  {{end}}

  <form action="/reset" method="post">
    <button>Revenir à l'accueil</button>
  </form>

{{else}}
  <h1>Power4 Web</h1>
  <form action="/start" method="post">
    <p>Joueur 1 (rouge): <input name="player1"></p>
    <p>Joueur 2 (bleu): <input name="player2"></p>
    <p>Difficulté :
      <select name="difficulty">
        <option value="easy">Facile</option>
        <option value="normal">Normal</option>
        <option value="hard">Difficile</option>
      </select>
    </p>
    <button type="submit">Commencer</button>
  </form>
{{end}}

</body>
</html>
